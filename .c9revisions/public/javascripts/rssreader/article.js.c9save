{"ts":1369870048687,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1369870003806,"patch":[[{"diffs":[[1,"enyo.kind({\n    name: \"reader.fragment.Articles\",\n    components: [\n        {\n            name: \"list\",\n            kind: \"List\",\n            classes: \"list-articles-list\",\n            onSetupItem: \"setupItem\",\n            multiSelect: true,\n            fit: true,\n            components: [\n                {kind: \"reader.fragment.Article\", name: \"article\", ontap: \"itemTap\"},\n            ]\n        }\n    ],\n    articles: [],\n    setupItem: function(inSender, inEvent){\n        var i = inEvent.index;\n        \n        this.$.article.setArticle(this.articles[i]);\n        this.$.article.setSelected(inSender.isSelected(i));\n    },\n    itemTap: function(inSender, inEvent){\n    },\n    refreshItem: function(data){\n        this.articles = data;\n        this.$.list.setCount(this.articles.length);\n        this.$.list.refresh();\n    }\n});\n\nenyo.kind({\n    name: \"reader.fragment.Article\",\n    classes: \"enyo-border-box expandable list-articles-item\",\n    components: [\n        {name: \"title\", classes: \"list-article-title\"},\n        {content: \"original\", classes: \"list-article-link\"},\n        {name: \"date\", classes: \"list-article-date\"},\n        {name: \"content\", classes: \"list-article-content\", components: [\n            {name: \"description\", classes: \"description\", allowHtml: true}\n        ]}\n    ],\n    article: \"\",\n    setSelected: function(inSelected){\n        this.addRemoveClass(\"expandable\", !inSelected);\n        this.addRemoveClass(\"expandable-selected\", inSelected);\n    },\n    setArticle: function(article){\n        this.article = article;\n        \n        if(Math.abs(moment(article.date).diff(moment(), \"days\")) > 0)\n            this.$.date.setContent(moment(article.date).format(\"M/D\"));\n        else\n            this.$.date.setContent(moment(article.date).format(\"HH:mm\"));\n\n        this.$.title.setContent(article.title);\n        this.$.description.setContent(article.description);\n    },\n    openLink: function(inSender, inEvent){\n        window.open(this.article.link);\n    }\n});"]],"start1":0,"start2":0,"length1":0,"length2":1998}]],"length":1998,"saved":false}
